// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0

package gen

import (
	"database/sql"
	"encoding/json"
	"time"
)

type Group struct {
	// UUID v4
	ID          string
	Name        string
	Description sql.NullString
	// Parent group for hierarchical structure
	ParentID  sql.NullString
	CreatedAt time.Time
	UpdatedAt time.Time
}

type GroupKey struct {
	GroupID string
	UserID  string
	// UUID v4
	KeyID string
	// Group symmetric key encrypted with user public key
	EncryptedKey []byte
	CreatedAt    time.Time
}

type GroupMember struct {
	GroupID string
	UserID  string
	// Member roles within group: ["admin", "owner", "member"]
	Roles    json.RawMessage
	JoinedAt time.Time
}

type GroupMemberLog struct {
	// UUID v4
	ID      string
	GroupID string
	UserID  string
	// Action: added, removed, role_changed
	Action string
	// User who performed the action
	ActorID   sql.NullString
	OldRoles  json.RawMessage
	NewRoles  json.RawMessage
	CreatedAt time.Time
}

type GroupPermission struct {
	GroupID string
	// Permission: user:read, user:update, invitation:create, etc.
	Permission string
	CreatedAt  time.Time
}

type Invitation struct {
	// UUID v4
	ID string
	// Invitation code (e.g., XXXX-XXXX-XXXX)
	Code string
	// User who created this invitation
	CreatedBy sql.NullString
	// User who used this invitation
	UsedBy sql.NullString
	// Expiration time (NULL = never expires)
	ExpiresAt sql.NullTime
	UsedAt    sql.NullTime
	CreatedAt time.Time
}

type Mail struct {
	// UUID v4
	ID string
	// Recipients (format: @trap_id;@trap_id2)
	To      sql.NullString
	Subject sql.NullString
	Body    sql.NullString
	// User who sent this mail
	OperatorID sql.NullString
	CreatedAt  time.Time
}

type MailLog struct {
	// UUID v4
	ID     string
	MailID string
	// Status: unsent, sent, failed
	Status    string
	Error     sql.NullString
	CreatedAt time.Time
}

type Namecard struct {
	// Student number prefix (e.g., 15B, 24B)
	StudentPrefix string
	// Hex color code
	Color sql.NullString
}

type Secret struct {
	// UUID v4
	ID string
	// Owning group
	GroupID string
	Name    string
	// AES-GCM encrypted with group key
	EncryptedValue []byte
	CreatedBy      sql.NullString
	CreatedAt      time.Time
	UpdatedAt      time.Time
}

type SecretLog struct {
	// UUID v4
	ID       string
	SecretID string
	// Action: created, updated, deleted, accessed
	Action    string
	ActorID   sql.NullString
	CreatedAt time.Time
}

type User struct {
	// UUID v4
	ID string
	// traP ID (unique username)
	TrapID string
	// PBKDF2-SHA512 hash
	PasswordHash string
	// AES-GCM encrypted email
	Email sql.NullString
	// AES-GCM encrypted JSON (name, phone, address, etc.)
	PersonalInfo sql.NullString
	// Student number (plaintext for lookup)
	StudentNumber sql.NullString
	CreatedAt     time.Time
	UpdatedAt     time.Time
}

type UserKey struct {
	UserID string
	// UUID v4
	KeyID string
	// User public key (DER format)
	PublicKey []byte
	// Private key encrypted with user password-derived key
	EncryptedPrivateKey []byte
	// Key algorithm
	Algorithm string
	IsActive  bool
	CreatedAt time.Time
}

type UserLink struct {
	UserID string
	// Service name: twitter, github, discord, etc.
	Service string
	// External service user ID
	ExternalID sql.NullString
	// Display name/handle on the service
	AccountName sql.NullString
	// Encrypted OAuth access token (if stored)
	AccessToken sql.NullString
	CreatedAt   time.Time
	UpdatedAt   time.Time
}

type UserStatus struct {
	UserID string
	// Status type: active, suspended, email-unconfirmed, etc.
	Status string
	// Additional detail/reason
	Detail    sql.NullString
	CreatedAt time.Time
}

type Webhook struct {
	// UUID v4
	ID   string
	Name string
	Url  string
	// HMAC signing secret (encrypted)
	Secret sql.NullString
	// User who owns this webhook
	OwnerID   sql.NullString
	IsActive  bool
	CreatedAt time.Time
	UpdatedAt time.Time
}

type WebhookSubscribeEvent struct {
	WebhookID string
	// Event type: user.created, group.member_added, etc.
	EventType string
	CreatedAt time.Time
}
