version: "2"
sql:
  - engine: "mysql"
    queries: query/oauth2.sql
    schema: migrations
    strict_function_checks: true
    gen:
      go:
        package: "mariadb"
        overrides:
          - db_type: "uuid"
            go_type: "*github.com/google/uuid.UUID"
            nullable: true
          - db_type: "uuid"
            go_type: "github.com/google/uuid.UUID"
            nullable: false
        out: "pkg/infrastructure/mariadb/v1/gen"
  - engine: "mysql"
    queries: query/portal.sql
    schema: _dev
    gen:
      go:
        package: "portal"
        out: "pkg/infrastructure/portal/v1/gen"
